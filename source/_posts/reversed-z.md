---
title: reversed-z
date: 2021-03-19 18:13:45
mathjax: true
tags:
- graphics
---

之前说到z-fighting，我能想到的解决办法就两个，一个是把近平面推远，调整z值在视锥里的分布。另一种是用cascade的方式，多级视锥来把z的精度匀开，其实也是变相把近平面推远了，只不过有好几个近平面而已。

最近学习到的一个新技术，reversed-z，感觉是一种更行之有效的办法。通过对投影矩阵的调整，很巧妙的把深度缓冲中的z在世界空间中的分布，和浮点数的精度分布结合起来，让深度的精度更合理。

对投影矩阵的改动很简单，乘以一个特意构造的矩阵就可以了。

$abc$
